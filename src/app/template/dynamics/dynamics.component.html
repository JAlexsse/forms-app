<h2>Template: Dynamics</h2>
<hr>
<form (ngSubmit)="save()" 
    #myForm="ngForm"
    autocomplete="off">

    <!--Name-->
    <div class="mb-3 row">
        <label class="col-sm-3 col-form-label">
            Name
        </label>
        <div class="col-sm-9">
            <input type="text"
                [ngModel]="person.name"
                name="name"
                class="form-control"
                placeholder="Person name..."
                minlength="3"
                required>
        </div>
    </div>

    <!--Add favourite-->
    <div class="mb-3 row">
        <div class="input-group mb-3 col-sm-12">
            <input 
                type="text" 
                class="form-control" 
                placeholder="Add favourite game..."
                [(ngModel)]="newGame"
                (keyup.enter)="addGame()"
                name="newGame">
            <button 
                class="btn btn-outline-primary"
                type="button"
                (click)="addGame()">
                Add
            </button>
        </div>
    </div>

     <!--List of favourite games-->
     <div class="mb-3 row">
        <label class="col-sm-3 col-form-label">
            Favourites
        </label>

        <div class="input-group mb-1 col-sm-12"
        *ngFor="let game of person.favourites; let i = index">
            <input type="text"
                class="form-control"
                [(ngModel)]="game.name"
                name="game_{{ i }}"
                required>
            <button 
                class="btn btn-danger"
                type="button"
                (click)="delete( i )">
                Delete
            </button>
        </div>
    </div>

    <div class="mb-3 row">
        <div class="col-sm-12">
            <button type="submit"
                class="btn btn-primary float-end"
                [disabled]="myForm.invalid">
                Save
            </button>
        </div>
    </div>

</form>

<span>
    Form Data
</span>
<pre>{{ person | json }}</pre>